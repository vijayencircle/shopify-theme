<footer
  id="footer-{{ section.id }}"
  class="custom-footer"
  style="
    --bg: {{ section.settings.bg_color }};
    --text: {{ section.settings.text_color }};
    --heading: {{ section.settings.heading_color }};
    background-color: var(--bg);
    {% if section.settings.bg_image != blank %}
      background-image: url({{ section.settings.bg_image | image_url: width: 2000 }});
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    {% endif %}
  "
>
  <div class="page-width footer-grid">

    <!-- LEFT -->
    <div class="footer-left">
      <h2 class="footer-title">{{ section.settings.newsletter_heading }}</h2>

      <form method="post" action="/contact#newsletter" class="footer-form">
        <input type="hidden" name="form_type" value="customer">
        <input type="email" name="contact[email]" placeholder="Your email" required>
        <button type="submit">‚Üí</button>
      </form>

      <div class="footer-socials">
        {% if section.settings.facebook != blank %}
          <a href="{{ section.settings.facebook }}" target="_blank">f</a>
        {% endif %}
        {% if section.settings.instagram != blank %}
          <a href="{{ section.settings.instagram }}" target="_blank">‚óé</a>
        {% endif %}
        {% if section.settings.twitter != blank %}
          <a href="{{ section.settings.twitter }}" target="_blank">ùïè</a>
        {% endif %}
        {% if section.settings.linkedin != blank %}
          <a href="{{ section.settings.linkedin }}" target="_blank">in</a>
        {% endif %}
      </div>
    </div>

    <!-- RIGHT -->
    <div class="footer-menus">
      <div class="footer-menu">
        <h4>{{ section.settings.menu_1_title }}</h4>
        <div class="mobile-flex">
            {% for link in linklists[section.settings.menu_1].links %}
              <a href="{{ link.url }}">{{ link.title }}</a>
            {% endfor %}
        </div>
      </div>

      <div class="footer-menu">
        <h4>{{ section.settings.menu_2_title }}</h4>
         <div class="mobile-flex">
        {% for link in linklists[section.settings.menu_2].links %}
          <a href="{{ link.url }}">{{ link.title }}</a>
        {% endfor %}
        </div>
      </div>
    </div>

  </div>

  <!-- SOCIAL ICONS FOR MOBILE -->
  <div class="footer-socials-mobile page-width">
    {% if section.settings.facebook != blank %}
      <a href="{{ section.settings.facebook }}" target="_blank">f</a>
    {% endif %}
    {% if section.settings.instagram != blank %}
      <a href="{{ section.settings.instagram }}" target="_blank">‚óé</a>
    {% endif %}
    {% if section.settings.twitter != blank %}
      <a href="{{ section.settings.twitter }}" target="_blank">ùïè</a>
    {% endif %}
    {% if section.settings.linkedin != blank %}
      <a href="{{ section.settings.linkedin }}" target="_blank">in</a>
    {% endif %}
  </div>

  <!-- BOTTOM -->
  <div class="footer-bottom page-width">
    <div class="footer-copy">
      ¬© {{ 'now' | date: '%Y' }} {{ section.settings.copyright_text }}
    </div>

    {% if section.settings.show_payments %}
      <div class="footer-payments">
        {% for type in shop.enabled_payment_types %}
          {{ type | payment_type_svg_tag }}
        {% endfor %}
      </div>
    {% endif %}
  </div>
</footer>

<style>
  /* ================= FOOTER BASE ================= */

.custom-footer {
  padding: 40px 0 20px;
  color: var(--text);
  background-color: var(--bg);
  overflow-x: hidden; /* overflow safety */
}

.custom-footer * {
  box-sizing: border-box;
}

.custom-footer a {
  text-decoration: none !important;
}

/* ================= GRID ================= */

.footer-grid {
  display: grid;
  grid-template-columns: 1.4fr 1fr;
  gap: 60px;
  max-width: 100%;
}

/* ================= LEFT ================= */

.footer-title {
  font-size: 35px;
  color: var(--heading);
  margin-bottom: 24px;
  font-weight: 900;
}

/* ================= FORM ================= */

.footer-form {
  display: flex;
  align-items: center;
  max-width: 520px;
  width: 100%;
  background: #ffffff;
  border-radius: 15px;
  padding: 6px;
}

.footer-form input {
  flex: 1;
  border: none;
  outline: none;
  padding: 16px 22px;
  font-size: 16px;
  border-radius: 15px;
  min-width: 0; /* overflow fix */
}

.footer-form button {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  border: none;
  background: #e31e24;
  color: #ffffff;
  font-size: 22px;
  font-weight: 700;
  cursor: pointer;
}

/* ================= SOCIALS (DESKTOP) ================= */

.footer-socials {
  margin-top: 30px;
  display: flex;
  gap: 14px;
  max-width: 100%;
}

.footer-socials a {
  width: 36px;
  height: 36px;
  background: #ffffff;
  color: #e31e24;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
}

/* ================= SOCIALS (MOBILE ONLY) ================= */

.footer-socials-mobile {
  display: none;
  max-width: 100%;
}

/* ================= MENUS ================= */

.footer-menus {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 60px;
  max-width: 100%;
}

.footer-menu h4 {
  font-size: 18px;
  margin-bottom: 16px;
  color: #ffffff;
  font-weight: 900;
}

.footer-menu a {
  display: block;
  margin-bottom: 10px;
  color: var(--text);
  word-break: break-word; /* overflow safety */
}

/* ================= BOTTOM ================= */

.footer-bottom {
  border-top: 1px solid rgba(255,255,255,.3);
  margin-top: 60px;
  padding-top: 20px;
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  max-width: 100%;
  overflow-x: hidden;
}

.footer-payments {
  display: flex;
  gap: 10px;
  flex-wrap: wrap; /* overflow fix */
  max-width: 100%;
}

.footer-payments svg {
  height: 26px;
  max-width: 52px;
}

/* ================= MOBILE ================= */

@media (max-width: 768px) {

  body {
    overflow-x: hidden;
  }

  .custom-footer {
    text-align: center;
    padding: 40px 16px 20px;
    overflow-x: hidden;
  }

  .footer-grid {
    grid-template-columns: 1fr;
    gap: 0;
  }

  /* ---------- NEWSLETTER ---------- */

  .footer-left {
    padding-bottom: 30px;
    border-bottom: 1px solid rgba(255,255,255,0.35);
  }

  .footer-title {
    font-size: 24px;
    font-weight: 900;
    line-height: 1.3;
    margin-bottom: 20px;
    text-align: center;
  }

  .footer-form {
    max-width: 100%;
    width: 100%;
    margin: 0 auto;
  }

  /* hide desktop socials */
  .footer-left .footer-socials {
    display: none;
  }

  /* ---------- MENUS ---------- */

  .footer-menus {
    grid-template-columns: 1fr;
    gap: 0;
    padding: 30px 0;
    border-bottom: 1px solid rgba(255,255,255,0.35);
  }

  .footer-menu {
    text-align: left;
  }

  .footer-menu:first-child {
    margin-bottom: 30px;
  }

  .footer-menu h4 {
    font-size: 18px;
    font-weight: 900;
    margin-bottom: 20px;
    color: #ffffff;
    text-align: left;
  }

  .mobile-flex {
    display: flex;
    flex-wrap: wrap; /* overflow fix */
    border-bottom: 1px solid #ffffff;
  }

  .footer-menu a {
    display: inline-block;
    width:fit-content;
    margin-bottom: 14px;
    text-align: left;
    color: #ffffff;
    font-size: 14px;
    font-weight: 500;
    padding-right: 10px;
  }

  /* ---------- MOBILE SOCIALS ---------- */

  .footer-socials-mobile {
    display: flex;
    justify-content: center;
    gap: 14px;
    padding: 30px 0;
    border-bottom: 1px solid rgba(255,255,255,0.35);
    flex-wrap: wrap; /* overflow fix */
  }

  .footer-socials-mobile a {
    width: 40px;
    height: 40px;
    background: #ffffff;
    color: #e31e24;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    font-weight: bold;
  }

  /* ---------- BOTTOM ---------- */

  .footer-bottom {
    flex-direction: column;
    gap: 16px;
    text-align: center;
    border-top: none;
    margin-top: 0;
    padding-top: 20px;
  }

  .footer-copy {
    font-size: 13px;
    order: 2;
    color: #ffffff;
  }

  .footer-payments {
    justify-content: center;
    margin-bottom: 10px;
    order: 1;
  }
}

</style>

{% schema %}
{
  "name": "Custom Footer",
  "settings": [
    { "type": "text", "id": "newsletter_heading", "label": "Newsletter heading", "default": "Sign up for exclusive updates and offers" },
    { "type": "color", "id": "bg_color", "label": "Background color", "default": "#e31e24" },
    { "type": "image_picker", "id": "bg_image", "label": "Background image" },
    { "type": "color", "id": "text_color", "label": "Text color", "default": "#ffffff" },
    { "type": "color", "id": "heading_color", "label": "Heading color", "default": "#ffffff" },
    { "type": "text", "id": "menu_1_title", "label": "Menu 1 title", "default": "Information" },
    { "type": "link_list", "id": "menu_1", "label": "Menu 1" },
    { "type": "text", "id": "menu_2_title", "label": "Menu 2 title", "default": "Categories" },
    { "type": "link_list", "id": "menu_2", "label": "Menu 2" },
    { "type": "text", "id": "facebook", "label": "Facebook URL" },
    { "type": "text", "id": "instagram", "label": "Instagram URL" },
    { "type": "text", "id": "twitter", "label": "Twitter (X) URL" },
    { "type": "text", "id": "linkedin", "label": "LinkedIn URL" },
    { "type": "checkbox", "id": "show_payments", "label": "Show payment icons", "default": true },
    { "type": "text", "id": "copyright_text", "label": "Copyright text", "default": "All Rights Reserved." }
  ],
  "presets": [
    { "name": "Custom Footer" }
  ]
}
{% endschema %}